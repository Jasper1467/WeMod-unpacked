/*! For license information please see vendors-4e64aa37.907d44b39db9a3e7dce1.bundle.js.LICENSE.txt */
"use strict";(global.webpackChunkWeMod=global.webpackChunkWeMod||[]).push([[8566],{44378:(t,e,r)=>{var n,i,o,a,s,u,c,l,f=r(1015),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};if("undefined"==typeof FEATURE_NO_ES2015&&(function(t,e){if(!(e in t)){var r,n=f.iw.global,i=0,o=""+Math.random(),a="__symbol:",s=a.length,u="__symbol@@"+o,c="defineProperty",l="defineProperties",h="getOwnPropertyNames",d="getOwnPropertyDescriptor",y="propertyIsEnumerable",v=t[h],g=t[d],m=t.create,b=t.keys,w=t[c],S=t[l],O=g(t,h),_=t.prototype,E=_.hasOwnProperty,A=_[y],T=_.toString,k=(Array.prototype.indexOf,function(t,e,r){E.call(t,u)||w(t,u,{enumerable:!1,configurable:!1,writable:!1,value:{}}),t[u]["@@"+e]=r}),x=function(t,e){var r=m(t);return null!==e&&"object"===(void 0===e?"undefined":p(e))&&v(e).forEach((function(t){N.call(e,t)&&U(r,t,e[t])})),r},j=function(){},M=function(t){return t!=u&&!E.call(D,t)},P=function(t){return t!=u&&E.call(D,t)},N=function(t){var e=""+t;return P(e)?E.call(this,e)&&this[u]&&this[u]["@@"+e]:A.call(this,t)},R=function(e){return w(_,e,{enumerable:!1,configurable:!0,get:j,set:function(t){r(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),k(this,e,!0)}}),D[e]=w(t(e),"constructor",I)},C=function(t){if(this&&this!==n)throw new TypeError("Symbol is not a constructor");return R(a.concat(t||"",o,++i))},D=m(null),I={value:C},F=function(t){return D[t]},U=function(t,e,n){var i=""+e;return P(i)?(r(t,i,n.enumerable?function(t){var e=m(t);return e.enumerable=!1,e}(n):n),k(t,i,!!n.enumerable)):w(t,e,n),t},W=function(e){return e="[object String]"===T.call(e)?e.split(""):t(e),v(e).filter(P).map(F)};O.value=U,w(t,c,O),O.value=W,w(t,e,O);var Q="object"===("undefined"==typeof window?"undefined":p(window))?t.getOwnPropertyNames(window):[],L=t.getOwnPropertyNames;O.value=function(t){if("[object Window]"===T.call(t))try{return L(t)}catch(t){return[].concat([],Q)}return v(t).filter(M)},w(t,h,O),O.value=function(t,e){var r=W(e);return r.length?b(e).concat(r).forEach((function(r){N.call(e,r)&&U(t,r,e[r])})):S(t,e),t},w(t,l,O),O.value=N,w(_,y,O),O.value=C,w(n,"Symbol",O),O.value=function(t){var e=a.concat(a,t,o);return e in _?D[e]:R(e)},w(C,"for",O),O.value=function(t){return E.call(D,t)?t.slice(2*s,-o.length):void 0},w(C,"keyFor",O),O.value=function(t,e){var r=g(t,e);return r&&P(e)&&(r.enumerable=N.call(t,e)),r},w(t,d,O),O.value=function(t,e){return 1===arguments.length?m(t):x(t,e)},w(t,"create",O),O.value=function(){var t=T.call(this);return"[object String]"===t&&P(this)?"[object Symbol]":t},w(_,"toString",O);try{r=m(w({},a,{get:function(){return w(this,a,{value:!1})[a]}}))[a]||w}catch(t){r=function(t,e,r){var n=g(_,e);delete _[e],w(t,e,r),w(_,e,n)}}}}(Object,"getOwnPropertySymbols"),n=Object,Symbol,o=n.defineProperty,a=n.prototype,s=a.toString,["iterator","match","replace","search","split","hasInstance","isConcatSpreadable","unscopables","species","toPrimitive",u="toStringTag"].forEach((function(t){t in Symbol||(o(Symbol,t,{value:Symbol(t)}),t!==u)||((i=n.getOwnPropertyDescriptor(a,"toString")).value=function(){var t=s.call(this),e=null==this?void 0:this[Symbol.toStringTag];return void 0===e?t:"[object "+e+"]"},o(a,"toString",i))})),function(t,e,r){function n(){return this}e[t]||(e[t]=function(){var e=0,r=this,i={next:function(){var t=r.length<=e;return t?{done:t}:{done:t,value:r[e++]}}};return i[t]=n,i}),r[t]||(r[t]=function(){var e=String.fromCodePoint,r=this,i=0,o=r.length,a={next:function(){var t=o<=i,n=t?"":e(r.codePointAt(i));return i+=n.length,t?{done:t}:{done:t,value:n}}};return a[t]=n,a})}(Symbol.iterator,Array.prototype,String.prototype)),"undefined"==typeof FEATURE_NO_ES2015&&(Number.isNaN=Number.isNaN||function(t){return t!=t},Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)}),String.prototype.endsWith&&!function(){try{return!"ab".endsWith("a",1)}catch(t){return!0}}()||(String.prototype.endsWith=function(t,e){var r=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>r.length)&&(e=r.length),e-=t.length;var n=r.indexOf(t,e);return-1!==n&&n===e}),String.prototype.startsWith&&!function(){try{return!"ab".startsWith("b",1)}catch(t){return!0}}()||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),"undefined"==typeof FEATURE_NO_ES2015&&(Array.from||(Array.from=(c=function(t){return t>0?Math.min(function(t){return isNaN(t=+t)?0:(t>0?Math.floor:Math.ceil)(t)}(t),9007199254740991):0},l=function(t,e,r,n){try{return e(r,n)}catch(e){throw"function"==typeof t.return&&t.return(),e}},function(t){var e,r,n,i,o=Object(t),a="function"==typeof this?this:Array,s=arguments.length,u=s>1?arguments[1]:void 0,f=void 0!==u,p=0,h=o[Symbol.iterator];if(f&&(u=u.bind(s>2?arguments[2]:void 0)),null==h||Array.isArray(t))for(r=new a(e=c(o.length));e>p;p++)r[p]=f?u(o[p],p):o[p];else for(i=h.call(o),r=new a;!(n=i.next()).done;p++)r[p]=f?l(i,u,n.value,p):n.value;return r.length=p,r})),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,enumerable:!1,value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,r=Object(this),n=r.length>>>0,i=arguments[1],o=0;o<n;o++)if(e=r[o],t.call(i,e,o,r))return e}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{configurable:!0,writable:!0,enumerable:!1,value:function(t){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,r=Object(this),n=r.length>>>0,i=arguments[1],o=0;o<n;o++)if(e=r[o],t.call(i,e,o,r))return o;return-1}})),"undefined"!=typeof FEATURE_NO_ES2016||Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,enumerable:!1,value:function(t){var e=Object(this),r=parseInt(e.length)||0;if(0===r)return!1;var n,i,o=parseInt(arguments[1])||0;for(o>=0?n=o:(n=r+o)<0&&(n=0);n<r;){if(t===(i=e[n])||t!=t&&i!=i)return!0;n++}return!1}}),"undefined"==typeof FEATURE_NO_ES2015&&(function(){var t,e,r,n,i=!1;try{var o=Object.keys("a");i=1!==o.length||"0"!==o[0]}catch(t){i=!0}i&&(Object.keys=(t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=(r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(i){if(null==i)throw TypeError("Cannot convert undefined or null to object");i=Object(i);var o,a,s=[];for(o in i)t.call(i,o)&&s.push(o);if(e)for(a=0;a<n;a++)t.call(i,r[a])&&s.push(r[a]);return s}))}(),function(t){var e,r,n;"assign"in t||t.defineProperty(t,"assign",{configurable:!0,writable:!0,value:(e=t.getOwnPropertySymbols,r=t.propertyIsEnumerable,n=e?function(t){return e(t).filter(r,t)}:function(){return Array.prototype},function(r){function i(t){r[t]=s[t]}!e||r instanceof t||console.warn("problematic Symbols",r);for(var o=1,a=arguments.length;o<a;++o){var s=arguments[o];null!=s&&t.keys(s).concat(n(s)).forEach(i)}return r})})}(Object),Object.is||(Object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e})),"undefined"==typeof FEATURE_NO_ES2015&&function(t){var e,r,n,i=Object.defineProperty;function o(t,e){function r(t){if(!this||this.constructor!==r)return new r(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&a.call(this,t)}return e||i(t,"size",{get:m}),t.constructor=r,r.prototype=t,r}function a(t){this.add?t.forEach(this.add,this):t.forEach((function(t){this.set(t[0],t[1])}),this)}function s(t){return this.has(t)&&(this._keys.splice(e,1),this._values.splice(e,1),this._itp.forEach((function(t){e<t[0]&&t[0]--}))),-1<e}function u(t){return this.has(t)?this._values[e]:void 0}function c(t,r){if(this.objectOnly&&r!==Object(r))throw new TypeError("Invalid value used as weak collection key");if(r!=r||0===r)for(e=t.length;e--&&(n=t[e])!==(i=r)&&(n==n||i==i););else e=t.indexOf(r);var n,i;return-1<e}function l(t){return c.call(this,this._values,t)}function f(t){return c.call(this,this._keys,t)}function p(t,r){return this.has(t)?this._values[e]=r:this._values[this._keys.push(t)-1]=r,this}function h(t){return this.has(t)||this._values.push(t),this}function d(){(this._keys||0).length=this._values.length=0}function y(){return g(this._itp,this._values)}function v(){return g(this._itp,this._keys,this._values)}function g(t,e,r){var n,i=[0],o=!1;return t.push(i),(n={})[Symbol.iterator]=function(){return this},n.next=function(){var n,a=i[0];return!o&&a<e.length?(n=r?[e[a],r[a]]:e[a],i[0]++):(o=!0,t.splice(t.indexOf(i),1)),{done:o,value:n}},n}function m(){return this._values.length}function b(t,e){for(var r=this.entries();;){var n=r.next();if(n.done)break;t.call(e,n.value[1],n.value[0],this)}}"undefined"==typeof WeakMap&&(t.WeakMap=o({delete:s,clear:d,get:u,has:f,set:p},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(t.Map=o(((r={delete:s,has:f,get:u,set:p,keys:function(){return g(this._itp,this._keys)},values:y,entries:v,forEach:b,clear:d})[Symbol.iterator]=v,r))),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(t.Set=o(((n={has:l,add:h,delete:s,clear:d,keys:y,values:y,entries:function(){return g(this._itp,this._values,this._values)},forEach:b})[Symbol.iterator]=y,n))),"undefined"==typeof WeakSet&&(t.WeakSet=o({delete:s,add:h,clear:d,has:l},!0))}(f.iw.global),"undefined"==typeof FEATURE_NO_ES2015){var h=Function.prototype.bind;void 0===f.iw.global.Reflect&&(f.iw.global.Reflect={}),"function"!=typeof Reflect.defineProperty&&(Reflect.defineProperty=function(t,e,r){if("object"===(void 0===t?"undefined":p(t))?null===t:"function"!=typeof t)throw new TypeError("Reflect.defineProperty called on non-object");try{return Object.defineProperty(t,e,r),!0}catch(t){return!1}}),"function"!=typeof Reflect.construct&&(Reflect.construct=function(t,e){if(e)switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(h.apply(t,r))}),"function"!=typeof Reflect.ownKeys&&(Reflect.ownKeys=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))})}if("undefined"==typeof FEATURE_NO_ESNEXT){var d=Object.freeze({}),y="__metadata__";"function"!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(t,e,r){if(e.hasOwnProperty(y))return(e[y][r]||d)[t]}),"function"!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(t,e,r,n){var i=r.hasOwnProperty(y)?r[y]:r[y]={};(i[n]||(i[n]={}))[t]=e}),"function"!=typeof Reflect.metadata&&(Reflect.metadata=function(t,e){return function(r,n){Reflect.defineMetadata(t,e,r,n)}})}},38562:(t,e,r)=>{r.d(e,{Xn:()=>l});var n=r(98627),i=function(){function t(t){this.charSpec=t,this.nextStates=[]}return t.prototype.get=function(t){var e=this.nextStates,r=Array.isArray(e),n=0;for(e=r?e:e[Symbol.iterator]();;){var i;if(r){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var o=i;if(o.charSpec.validChars===t.validChars&&o.charSpec.invalidChars===t.invalidChars)return o}},t.prototype.put=function(e){var r=this.get(e);return r||(r=new t(e),this.nextStates.push(r),e.repeat&&r.nextStates.push(r),r)},t.prototype.match=function(t){for(var e=this.nextStates,r=[],n=0,i=e.length;n<i;n++){var o=e[n],a=o.charSpec;void 0!==a.validChars?-1!==a.validChars.indexOf(t)&&r.push(o):void 0!==a.invalidChars&&-1===a.invalidChars.indexOf(t)&&r.push(o)}return r},t}(),o=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g"),a=function(){function t(t,e){this.string=t,this.caseSensitive=e}return t.prototype.eachChar=function(t){for(var e=this.string,r=0,n=e.length;r<n;++r){var i=e[r];t({validChars:this.caseSensitive?i:i.toUpperCase()+i.toLowerCase()})}},t.prototype.regex=function(){return this.string.replace(o,"\\$1")},t.prototype.generate=function(){return this.string},t}(),s=function(){function t(t,e){this.name=t,this.optional=e}return t.prototype.eachChar=function(t){t({invalidChars:"/",repeat:!0})},t.prototype.regex=function(){return"([^/]+)"},t.prototype.generate=function(t,e){return e[this.name]=!0,t[this.name]},t}(),u=function(){function t(t){this.name=t}return t.prototype.eachChar=function(t){t({invalidChars:"",repeat:!0})},t.prototype.regex=function(){return"(.+)"},t.prototype.generate=function(t,e){return e[this.name]=!0,t[this.name]},t}(),c=function(){function t(){}return t.prototype.eachChar=function(){},t.prototype.regex=function(){return""},t.prototype.generate=function(){return""},t}(),l=function(){function t(){this.rootState=new i,this.names={},this.routes=new Map}return t.prototype.add=function(t){var e=this;if(!Array.isArray(t)){for(var r=this.rootState,n=[],i="^",o={statics:0,dynamics:0,stars:0},l=[],f=t.handler.name,p=!0,d=function(t,e,r,n){var i=t;"/"===t.charAt(0)&&(i=t.substr(1));for(var o=[],l=i.split("/"),f=0,p=l.length;f<p;++f){var h=l[f],d=h.match(/^:([^?]+)(\?)?$/);if(d){var y=d,v=y[1],g=y[2];if(-1!==v.indexOf("="))throw new Error("Parameter "+v+" in route "+t+" has a default value, which is not supported.");o.push(new s(v,!!g)),e.push(v),r.dynamics++}else(d=h.match(/^\*(.+)$/))?(o.push(new u(d[1])),e.push(d[1]),r.stars++):""===h?o.push(new c):(o.push(new a(h,n)),r.statics++)}return o}(t.path,l,o,t.caseSensitive),y=0,v=d.length;y<v;y++){var g=d[y];if(!(g instanceof c)){for(var m=h(r,g),b=m[0],w=m[1],S=0,O=n.length;S<O;S++)n[S].nextStates.push(b);g.optional?(n.push(w),i+="(?:/"+g.regex()+")?"):(r=w,i+="/"+g.regex(),n.length=0,p=!1)}}p&&(r=r.put({validChars:"/"}),i+="/?");var _=[{handler:t.handler,names:l}];if(this.routes.set(t.handler,{segments:d,handlers:_}),f)for(var E=Array.isArray(f)?f:[f],A=0;A<E.length;A++)E[A]in this.names||(this.names[E[A]]={segments:d,handlers:_});for(var T=0;T<n.length;T++){var k=n[T];k.handlers=_,k.regex=new RegExp(i+"$",t.caseSensitive?"":"i"),k.types=o}return r.handlers=_,r.regex=new RegExp(i+"$",t.caseSensitive?"":"i"),r.types=o,r}t.forEach((function(t){return e.add(t)}))},t.prototype.getRoute=function(t){return"string"==typeof t?this.names[t]:this.routes.get(t)},t.prototype.handlersFor=function(t){var e=this.getRoute(t);if(!e)throw new Error("There is no route named "+t);return[].concat(e.handlers)},t.prototype.hasRoute=function(t){return!!this.getRoute(t)},t.prototype.generate=function(t,e){var r=this.getRoute(t);if(!r)throw new Error("There is no route named "+t);var i=r.handlers[0].handler;if(i.generationUsesHref)return i.href;for(var o=Object.assign({},e),a=r.segments,s={},u="",l=0,f=a.length;l<f;l++){var p=a[l];if(!(p instanceof c)){var h=p.generate(o,s);if(null==h){if(!p.optional)throw new Error("A value is required for route parameter '"+p.name+"' in route '"+t+"'.")}else u+="/",u+=h}}for(var d in"/"!==u.charAt(0)&&(u="/"+u),s)delete o[d];var y=(0,n.Ie)(o);return u+(y?"?"+y:"")},t.prototype.recognize=function(t){var e=[this.rootState],r={},i=!1,o=t,a=o.indexOf("?");if(-1!==a){var s=o.substr(a+1,o.length);o=o.substr(0,a),r=(0,n.dD)(s)}"/"!==(o=decodeURI(o)).charAt(0)&&(o="/"+o);var u=o.length;u>1&&"/"===o.charAt(u-1)&&(o=o.substr(0,u-1),i=!0);for(var c=0,l=o.length;c<l&&(e=p(e,o.charAt(c))).length;c++);for(var h=[],d=0,y=e.length;d<y;d++)e[d].handlers&&h.push(e[d]);e=function(t){return t.sort((function(t,e){if(t.types.stars!==e.types.stars)return t.types.stars-e.types.stars;if(t.types.stars){if(t.types.statics!==e.types.statics)return e.types.statics-t.types.statics;if(t.types.dynamics!==e.types.dynamics)return e.types.dynamics-t.types.dynamics}return t.types.dynamics!==e.types.dynamics?t.types.dynamics-e.types.dynamics:t.types.statics!==e.types.statics?e.types.statics-t.types.statics:0}))}(h);var v=h[0];if(v&&v.handlers)return i&&"(.+)$"===v.regex.source.slice(-5)&&(o+="/"),function(t,e,r){for(var n=t.handlers,i=t.regex,o=e.match(i),a=1,s=new f(r),u=0,c=n.length;u<c;u++){for(var l=n[u],p=l.names,h={},d=0,y=p.length;d<y;d++)h[p[d]]=o[a++];s.push({handler:l.handler,params:h,isDynamic:!!p.length})}return s}(v,o,r)},t}(),f=function(t){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=t||{}};function p(t,e){for(var r=[],n=0,i=t.length;n<i;n++){var o=t[n];r.push.apply(r,o.match(e))}return r}function h(t,e){var r=t.put({validChars:"/"}),n=r;return e.eachChar((function(t){n=n.put(t)})),[r,n]}},45437:(t,e,r)=>{r.d(e,{E0:()=>v,Pt:()=>a,in:()=>s,yh:()=>b});var n=r(89285),i=(r(56158),r(98099)),o=r(1015);Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),r=e.length,n=new Array(r);r--;)n[r]=[e[r],t[e[r]]];return n});var a,s,u,c,l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},l(t,e)};function f(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function p(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function h(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(t,e){return y(t)?e>0?function(t,e){if(e<0||e>=t.future.length)return t;var r=t.past,n=t.future,i=t.present;return{past:r.concat([i],n.slice(0,e)),present:n[e],future:n.slice(e+1)}}(t,e-1):e<0?function(t,e){if(e<0||e>=t.past.length)return t;var r=t.past,n=t.future,i=t.present,o=r.slice(0,e),a=r.slice(e+1).concat([i],n);return{past:o,present:r[e],future:a}}(t,t.past.length+e):t:t}function y(t){return void 0!==t.present&&void 0!==t.future&&void 0!==t.past&&Array.isArray(t.future)&&Array.isArray(t.past)}function v(t,e,r){var n=r&&r.logType&&console.hasOwnProperty(r.logType)?r.logType:"log";console[n]("New state: ",t)}function g(t,e,r){return e&&t.logDefinitions&&t.logDefinitions.hasOwnProperty(e)&&t.logDefinitions[e]&&Object.values(s).includes(t.logDefinitions[e])?t.logDefinitions[e]:r}!function(t){t.Before="before",t.After="after"}(a||(a={})),function(t){t.trace="trace",t.debug="debug",t.info="info",t.log="log",t.warn="warn",t.error="error"}(s||(s={})),f((function(){return null!==c&&c.apply(this,arguments)||this}),c=i.Yd),function(t){t.StartEnd="startEnd",t.All="all"}(u||(u={}));var m=function(t){function e(e){return t.call(this,"Tried to dispatch an unregistered action "+(e&&("string"==typeof e?e:e.name)))||this}return f(e,t),e}(Error),b=function(){function t(t,e){this.initialState=t,this.logger=(0,i.jl)("aurelia-store"),this.devToolsAvailable=!1,this.actions=new Map,this.middlewares=new Map,this._markNames=new Set,this._measureNames=new Set,this.dispatchQueue=[],this.options=e||{};var r=this.options.history&&!0===this.options.history.undoable;this._state=new n.X(t),this.state=this._state.asObservable(),this.options.devToolsOptions&&!0===this.options.devToolsOptions.disable||this.setupDevTools(),r&&this.registerHistoryMethods()}return t.prototype.registerMiddleware=function(t,e,r){this.middlewares.set(t,{placement:e,settings:r})},t.prototype.unregisterMiddleware=function(t){this.middlewares.has(t)&&this.middlewares.delete(t)},t.prototype.isMiddlewareRegistered=function(t){return this.middlewares.has(t)},t.prototype.registerAction=function(t,e){if(0===e.length)throw new Error("The reducer is expected to have one or more parameters, where the first will be the present state");this.actions.set(e,{type:t})},t.prototype.unregisterAction=function(t){this.actions.has(t)&&this.actions.delete(t)},t.prototype.isActionRegistered=function(t){return"string"==typeof t?void 0!==Array.from(this.actions).find((function(e){return e[1].type===t})):this.actions.has(t)},t.prototype.resetToState=function(t){this._state.next(t)},t.prototype.dispatch=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=this.lookupAction(t);return n?this.queueDispatch([{reducer:n,params:e}]):Promise.reject(new m(t))},t.prototype.pipe=function(t){for(var e=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=[],o={dispatch:function(){return e.queueDispatch(i)},pipe:function(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var s=e.lookupAction(r);if(!s)throw new m(t);return i.push({reducer:s,params:n}),o}};return o.pipe.apply(o,[t].concat(r))},t.prototype.lookupAction=function(t){if("string"==typeof t){var e=Array.from(this.actions).find((function(e){return e[0],e[1].type===t}));if(e)return e[0]}else if(this.actions.has(t))return t},t.prototype.queueDispatch=function(t){var e=this;return new Promise((function(r,n){e.dispatchQueue.push({actions:t,resolve:r,reject:n}),1===e.dispatchQueue.length&&e.handleQueue()}))},t.prototype.handleQueue=function(){return p(this,void 0,void 0,(function(){var t,e;return h(this,(function(r){switch(r.label){case 0:if(!(this.dispatchQueue.length>0))return[3,5];t=this.dispatchQueue[0],r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.internalDispatch(t.actions)];case 2:return r.sent(),t.resolve(),[3,4];case 3:return e=r.sent(),t.reject(e),[3,4];case 4:this.dispatchQueue.shift(),this.handleQueue(),r.label=5;case 5:return[2]}}))}))},t.prototype.internalDispatch=function(t){return p(this,void 0,void 0,(function(){var e,r,n,i,c,l,f,p,d,v,b,w,S=this;return h(this,(function(h){switch(h.label){case 0:if(e=t.find((function(t){return!S.actions.has(t.reducer)})))throw new m(e.reducer);return this.mark("dispatch-start"),r=t.map((function(t){return{type:S.actions.get(t.reducer).type,params:t.params,reducer:t.reducer}})),n={name:r.map((function(t){return t.type})).join("->"),params:r.reduce((function(t,e){return t.concat(e.params)}),[]),pipedActions:r.map((function(t){return{name:t.type,params:t.params}}))},this.options.logDispatchedActions&&this.logger[g(this.options,"dispatchedActions",s.info)]("Dispatching: "+n.name),[4,this.executeMiddlewares(this._state.getValue(),a.Before,n)];case 1:if(!1===(i=h.sent()))return this.clearMarks(),this.clearMeasures(),[2];c=i,l=0,f=r,h.label=2;case 2:return l<f.length?[4,(p=f[l]).reducer.apply(p,[c].concat(p.params))]:[3,5];case 3:if(!1===(c=h.sent()))return this.clearMarks(),this.clearMeasures(),[2];if(this.mark("dispatch-after-reducer-"+p.type),!c&&"object"!=typeof c)throw new Error("The reducer has to return a new state");h.label=4;case 4:return l++,[3,2];case 5:return[4,this.executeMiddlewares(c,a.After,n)];case 6:return!1===(d=h.sent())?(this.clearMarks(),this.clearMeasures(),[2]):(y(d)&&this.options.history&&this.options.history.limit&&(O=d,_=this.options.history.limit,y(O)&&(O.past.length>_&&(O.past=O.past.slice(O.past.length-_)),O.future.length>_&&(O.future=O.future.slice(0,_))),d=O),this._state.next(d),this.mark("dispatch-end"),this.options.measurePerformance===u.StartEnd?(this.measure("startEndDispatchDuration","dispatch-start","dispatch-end"),v=o.iw.performance.getEntriesByName("startEndDispatchDuration","measure"),this.logger[g(this.options,"performanceLog",s.info)]("Total duration "+v[0].duration+" of dispatched action "+n.name+":",v)):this.options.measurePerformance===u.All&&(b=o.iw.performance.getEntriesByType("mark"),w=b[b.length-1].startTime-b[0].startTime,this.logger[g(this.options,"performanceLog",s.info)]("Total duration "+w+" of dispatched action "+n.name+":",b)),this.clearMarks(),this.clearMeasures(),this.updateDevToolsState({type:n.name,params:n.params},d),[2])}var O,_}))}))},t.prototype.executeMiddlewares=function(t,e,r){var n=this;return Array.from(this.middlewares).filter((function(t){return t[1].placement===e})).reduce((function(t,i,o,a){return p(n,void 0,void 0,(function(){var n,o,a,s,u;return h(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,7,8]),a=(o=i)[0],[4,t];case 1:return[4,a.apply(o,[c.sent(),this._state.getValue(),i[1].settings,r])];case 2:return!1===(n=c.sent())?[2,!1]:(s=n)?[3,4]:[4,t];case 3:s=c.sent(),c.label=4;case 4:return[2,s];case 5:if(u=c.sent(),this.options.propagateError)throw u;return[4,t];case 6:return[2,c.sent()];case 7:return this.mark("dispatch-"+e+"-"+i[0].name),[7];case 8:return[2]}}))}))}),t)},t.prototype.setupDevTools=function(){var t=this;o.iw.global.devToolsExtension&&(this.logger[g(this.options,"devToolsStatus",s.debug)]("DevTools are available"),this.devToolsAvailable=!0,this.devTools=o.iw.global.__REDUX_DEVTOOLS_EXTENSION__.connect(this.options.devToolsOptions),this.devTools.init(this.initialState),this.devTools.subscribe((function(e){if(t.logger[g(t.options,"devToolsStatus",s.debug)]("DevTools sent change "+e.type),"ACTION"===e.type&&e.payload){var r=Array.from(t.actions).find((function(t){return t[0].name===e.payload.name})),n=t.lookupAction(e.payload.name)||r&&r[0];if(!n)throw new Error("Tried to remotely dispatch an unregistered action");if(!e.payload.args||e.payload.args.length<1)throw new Error("No action arguments provided");t.dispatch.apply(t,[n].concat(e.payload.args.slice(1).map((function(t){return JSON.parse(t)}))))}else if("DISPATCH"===e.type&&e.payload)switch(e.payload.type){case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return void t._state.next(JSON.parse(e.state));case"COMMIT":return void t.devTools.init(t._state.getValue());case"RESET":return t.devTools.init(t.initialState),void t.resetToState(t.initialState);case"ROLLBACK":var i=JSON.parse(e.state);return t.resetToState(i),void t.devTools.init(i)}})))},t.prototype.updateDevToolsState=function(t,e){this.devToolsAvailable&&this.devTools.send(t,e)},t.prototype.registerHistoryMethods=function(){this.registerAction("jump",d)},t.prototype.mark=function(t){this._markNames.add(t),o.iw.performance.mark(t)},t.prototype.clearMarks=function(){this._markNames.forEach((function(t){return o.iw.performance.clearMarks(t)})),this._markNames.clear()},t.prototype.measure=function(t,e,r){this._measureNames.add(t),o.iw.performance.measure(t,e,r)},t.prototype.clearMeasures=function(){this._measureNames.forEach((function(t){return o.iw.performance.clearMeasures(t)})),this._measureNames.clear()},t}()}}]);