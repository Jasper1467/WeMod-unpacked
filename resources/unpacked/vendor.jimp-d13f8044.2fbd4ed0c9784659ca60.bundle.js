"use strict";(global.webpackChunkWeMod=global.webpackChunkWeMod||[]).push([[5031],{22744:(t,i,a)=>{var r=a(64836);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=r(a(38416)),h=r(a(11494)),s=a(31702),n="image/gif";i.default=function(){return{mime:(0,e.default)({},n,["gif"]),constants:{MIME_GIF:n},decoders:(0,e.default)({},n,(function(t){var i=new h.default.GifReader(t),a=Buffer.alloc(i.width*i.height*4);return i.decodeAndBlitFrameRGBA(0,a),{data:a,width:i.width,height:i.height}})),encoders:(0,e.default)({},n,(function(t){var i=new s.BitmapImage(t.bitmap);s.GifUtil.quantizeDekker(i,256);var a=new s.GifFrame(i);return(new s.GifCodec).encodeGif([a],{}).then((function(t){return t.buffer}))}))}}},83853:(t,i,a)=>{var r=a(64836);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=r(a(38416)),h=r(a(87870)),s=a(1567),n="image/jpeg";i.default=function(){return{mime:(0,e.default)({},n,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:n},decoders:(0,e.default)({},n,h.default.decode),encoders:(0,e.default)({},n,(function(t){return h.default.encode(t.bitmap,t._quality).data})),class:{_quality:100,quality:function(t,i){return"number"!=typeof t?s.throwError.call(this,"n must be a number",i):t<0||t>100?s.throwError.call(this,"n must be a number 0 - 100",i):(this._quality=Math.round(t),(0,s.isNodePattern)(i)&&i.call(this,null,this),this)}}}}},92260:(t,i,a)=>{var r=a(64836);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=r(a(18698)),h=a(1567);i.default=function(){return{blit:function(t,i,a,r,s,n,o,u){if(!(t instanceof this.constructor))return h.throwError.call(this,"The source must be a Jimp image",u);if("number"!=typeof i||"number"!=typeof a)return h.throwError.call(this,"x and y must be numbers",u);if("function"==typeof r)u=r,r=0,s=0,n=t.bitmap.width,o=t.bitmap.height;else{if((0,e.default)(r)!==(0,e.default)(s)||(0,e.default)(s)!==(0,e.default)(n)||(0,e.default)(n)!==(0,e.default)(o))return h.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",u);r=r||0,s=s||0,n=n||t.bitmap.width,o=o||t.bitmap.height}i=Math.round(i),a=Math.round(a),r=Math.round(r),s=Math.round(s),n=Math.round(n),o=Math.round(o);var l=this.bitmap.width,d=this.bitmap.height,b=this;return t.scanQuiet(r,s,n,o,(function(t,e,h){var n=i+t-r,o=a+e-s;if(n>=0&&o>=0&&l-n>0&&d-o>0){var u=b.getPixelIndex(n,o),m={r:this.bitmap.data[h],g:this.bitmap.data[h+1],b:this.bitmap.data[h+2],a:this.bitmap.data[h+3]},p={r:b.bitmap.data[u],g:b.bitmap.data[u+1],b:b.bitmap.data[u+2],a:b.bitmap.data[u+3]};b.bitmap.data[u]=(m.a*(m.r-p.r)-p.r+255>>8)+p.r,b.bitmap.data[u+1]=(m.a*(m.g-p.g)-p.g+255>>8)+p.g,b.bitmap.data[u+2]=(m.a*(m.b-p.b)-p.b+255>>8)+p.b,b.bitmap.data[u+3]=this.constructor.limit255(p.a+m.a)}})),(0,h.isNodePattern)(u)&&u.call(this,null,this),this}}}},2430:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.shgTable=i.mulTable=void 0,i.mulTable=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],i.shgTable=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18]},27139:(t,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=a(1567),e=a(2430);i.default=function(){return{blur:function(t,i){if("number"!=typeof t)return r.throwError.call(this,"r must be a number",i);if(t<1)return r.throwError.call(this,"r must be greater than 0",i);for(var a,h,s,n,o,u,l,d,b,m,p,f,c,v,g=this.bitmap.width-1,w=this.bitmap.height-1,y=t+1,M=e.mulTable[t],P=e.shgTable[t],E=[],_=[],x=[],N=[],I=[],Q=[],j=2;j-- >0;){for(f=0,c=0,u=0;u<this.bitmap.height;u++){for(a=this.bitmap.data[c]*y,h=this.bitmap.data[c+1]*y,s=this.bitmap.data[c+2]*y,n=this.bitmap.data[c+3]*y,l=1;l<=t;l++)d=c+((l>g?g:l)<<2),a+=this.bitmap.data[d++],h+=this.bitmap.data[d++],s+=this.bitmap.data[d++],n+=this.bitmap.data[d];for(o=0;o<this.bitmap.width;o++)E[f]=a,_[f]=h,x[f]=s,N[f]=n,0===u&&(I[o]=((d=o+y)<g?d:g)<<2,Q[o]=(d=o-t)>0?d<<2:0),b=c+I[o],m=c+Q[o],a+=this.bitmap.data[b++]-this.bitmap.data[m++],h+=this.bitmap.data[b++]-this.bitmap.data[m++],s+=this.bitmap.data[b++]-this.bitmap.data[m++],n+=this.bitmap.data[b]-this.bitmap.data[m],f++;c+=this.bitmap.width<<2}for(o=0;o<this.bitmap.width;o++){for(a=E[p=o]*y,h=_[p]*y,s=x[p]*y,n=N[p]*y,l=1;l<=t;l++)a+=E[p+=l>w?0:this.bitmap.width],h+=_[p],s+=x[p],n+=N[p];for(f=o<<2,u=0;u<this.bitmap.height;u++)v=n*M>>>P,this.bitmap.data[f+3]=v,v>255&&(this.bitmap.data[f+3]=255),v>0?(v=255/v,this.bitmap.data[f]=(a*M>>>P)*v,this.bitmap.data[f+1]=(h*M>>>P)*v,this.bitmap.data[f+2]=(s*M>>>P)*v):(this.bitmap.data[f+2]=0,this.bitmap.data[f+1]=0,this.bitmap.data[f]=0),0===o&&(I[u]=((d=u+y)<w?d:w)*this.bitmap.width,Q[u]=(d=u-t)>0?d*this.bitmap.width:0),b=o+I[u],m=o+Q[u],a+=E[b]-E[m],h+=_[b]-_[m],s+=x[b]-x[m],n+=N[b]-N[m],f+=this.bitmap.width<<2}}return(0,r.isNodePattern)(i)&&i.call(this,null,this),this}}}},24650:(t,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=a(1567);i.default=function(){return{circle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(i=t,t={});var a=t.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,e={x:"number"==typeof t.x?t.x:this.bitmap.width/2,y:"number"==typeof t.y?t.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,i,r){var h=Math.sqrt(Math.pow(t-e.x,2)+Math.pow(i-e.y,2));a-h<=0?this.bitmap.data[r+3]=0:a-h<1&&(this.bitmap.data[r+3]=255*(a-h))})),(0,r.isNodePattern)(i)&&i.call(this,null,this),this}}}},10809:(t,i,a)=>{var r=a(64836);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=r(a(861)),h=r(a(17621)),s=a(1567);function n(t,i,a,r){for(var e=[0,0,0],h=(i.length-1)/2,s=0;s<i.length;s+=1)for(var n=0;n<i[s].length;n+=1){var o=t.getPixelIndex(a+s-h,r+n-h);e[0]+=t.bitmap.data[o]*i[s][n],e[1]+=t.bitmap.data[o+1]*i[s][n],e[2]+=t.bitmap.data[o+2]*i[s][n]}return e}var o=function(t){return null!=t};function u(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,i,a){var r=parseInt(.2126*this.bitmap.data[a]+.7152*this.bitmap.data[a+1]+.0722*this.bitmap.data[a+2],10);this.bitmap.data[a]=r,this.bitmap.data[a+1]=r,this.bitmap.data[a+2]=r})),(0,s.isNodePattern)(t)&&t.call(this,null,this),this}function l(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return{r:(i.r-t.r)*(a/100)+t.r,g:(i.g-t.g)*(a/100)+t.g,b:(i.b-t.b)*(a/100)+t.b}}function d(t,i){var a=this;return t&&Array.isArray(t)?(t=t.map((function(t){return"xor"!==t.apply&&"mix"!==t.apply||(t.params[0]=(0,h.default)(t.params[0]).toRgb()),t})),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(r,n,o){var u={r:a.bitmap.data[o],g:a.bitmap.data[o+1],b:a.bitmap.data[o+2]},d=function(t,i){return a.constructor.limit255(u[t]+i)};t.forEach((function(t){if("mix"===t.apply)u=l(u,t.params[0],t.params[1]);else if("tint"===t.apply)u=l(u,{r:255,g:255,b:255},t.params[0]);else if("shade"===t.apply)u=l(u,{r:0,g:0,b:0},t.params[0]);else if("xor"===t.apply)u={r:u.r^t.params[0].r,g:u.g^t.params[0].g,b:u.b^t.params[0].b};else if("red"===t.apply)u.r=d("r",t.params[0]);else if("green"===t.apply)u.g=d("g",t.params[0]);else if("blue"===t.apply)u.b=d("b",t.params[0]);else{var r;if("hue"===t.apply&&(t.apply="spin"),!(u=(0,h.default)(u))[t.apply])return s.throwError.call(a,"action "+t.apply+" not supported",i);u=(r=u)[t.apply].apply(r,(0,e.default)(t.params)).toRgb()}})),a.bitmap.data[o]=u.r,a.bitmap.data[o+1]=u.g,a.bitmap.data[o+2]=u.b})),(0,s.isNodePattern)(i)&&i.call(this,null,this),this):s.throwError.call(this,"actions must be an array",i)}i.default=function(){return{brightness:function(t,i){return"number"!=typeof t?s.throwError.call(this,"val must be numbers",i):t<-1||t>1?s.throwError.call(this,"val must be a number between -1 and +1",i):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(i,a,r){t<0?(this.bitmap.data[r]=this.bitmap.data[r]*(1+t),this.bitmap.data[r+1]=this.bitmap.data[r+1]*(1+t),this.bitmap.data[r+2]=this.bitmap.data[r+2]*(1+t)):(this.bitmap.data[r]=this.bitmap.data[r]+(255-this.bitmap.data[r])*t,this.bitmap.data[r+1]=this.bitmap.data[r+1]+(255-this.bitmap.data[r+1])*t,this.bitmap.data[r+2]=this.bitmap.data[r+2]+(255-this.bitmap.data[r+2])*t)})),(0,s.isNodePattern)(i)&&i.call(this,null,this),this)},contrast:function(t,i){if("number"!=typeof t)return s.throwError.call(this,"val must be numbers",i);if(t<-1||t>1)return s.throwError.call(this,"val must be a number between -1 and +1",i);var a=(t+1)/(1-t);function r(t){return(t=Math.floor(a*(t-127)+127))<0?0:t>255?255:t}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,i,a){this.bitmap.data[a]=r(this.bitmap.data[a]),this.bitmap.data[a+1]=r(this.bitmap.data[a+1]),this.bitmap.data[a+2]=r(this.bitmap.data[a+2])})),(0,s.isNodePattern)(i)&&i.call(this,null,this),this},posterize:function(t,i){return"number"!=typeof t?s.throwError.call(this,"n must be numbers",i):(t<2&&(t=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(i,a,r){this.bitmap.data[r]=Math.floor(this.bitmap.data[r]/255*(t-1))/(t-1)*255,this.bitmap.data[r+1]=Math.floor(this.bitmap.data[r+1]/255*(t-1))/(t-1)*255,this.bitmap.data[r+2]=Math.floor(this.bitmap.data[r+2]/255*(t-1))/(t-1)*255})),(0,s.isNodePattern)(i)&&i.call(this,null,this),this)},greyscale:u,grayscale:u,opacity:function(t,i){return"number"!=typeof t?s.throwError.call(this,"f must be a number",i):t<0||t>1?s.throwError.call(this,"f must be a number from 0 to 1",i):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(i,a,r){var e=this.bitmap.data[r+3]*t;this.bitmap.data[r+3]=e})),(0,s.isNodePattern)(i)&&i.call(this,null,this),this)},sepia:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,i,a){var r=this.bitmap.data[a],e=this.bitmap.data[a+1],h=this.bitmap.data[a+2];h=.272*(r=.393*r+.769*e+.189*h)+.534*(e=.349*r+.686*e+.168*h)+.131*h,this.bitmap.data[a]=r<255?r:255,this.bitmap.data[a+1]=e<255?e:255,this.bitmap.data[a+2]=h<255?h:255})),(0,s.isNodePattern)(t)&&t.call(this,null,this),this},fade:function(t,i){return"number"!=typeof t?s.throwError.call(this,"f must be a number",i):t<0||t>1?s.throwError.call(this,"f must be a number from 0 to 1",i):(this.opacity(1-t),(0,s.isNodePattern)(i)&&i.call(this,null,this),this)},convolution:function(t,i,a){"function"==typeof i&&void 0===a&&(a=i,i=null),i||(i=this.constructor.EDGE_EXTEND);var r,e,h,n,o,u,l,d,b,m,p=Buffer.from(this.bitmap.data),f=t.length,c=t[0].length,v=Math.floor(f/2),g=Math.floor(c/2),w=-v,y=-g;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(a,s,f){n=0,h=0,e=0;for(var c=w;c<=v;c++)for(var M=y;M<=g;M++)d=a+M,b=s+c,r=t[c+v][M+g],-1===(m=this.getPixelIndex(d,b,i))?(l=0,u=0,o=0):(o=this.bitmap.data[m+0],u=this.bitmap.data[m+1],l=this.bitmap.data[m+2]),e+=r*o,h+=r*u,n+=r*l;e<0&&(e=0),h<0&&(h=0),n<0&&(n=0),e>255&&(e=255),h>255&&(h=255),n>255&&(n=255),p[f+0]=e,p[f+1]=h,p[f+2]=n})),this.bitmap.data=p,(0,s.isNodePattern)(a)&&a.call(this,null,this),this},opaque:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,i,a){this.bitmap.data[a+3]=255})),(0,s.isNodePattern)(t)&&t.call(this,null,this),this},pixelate:function(t,i,a,r,e,h){if("function"==typeof i)h=i,e=null,r=null,a=null,i=null;else{if("number"!=typeof t)return s.throwError.call(this,"size must be a number",h);if(o(i)&&"number"!=typeof i)return s.throwError.call(this,"x must be a number",h);if(o(a)&&"number"!=typeof a)return s.throwError.call(this,"y must be a number",h);if(o(r)&&"number"!=typeof r)return s.throwError.call(this,"w must be a number",h);if(o(e)&&"number"!=typeof e)return s.throwError.call(this,"h must be a number",h)}var u=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]];i=i||0,a=a||0,r=o(r)?r:this.bitmap.width-i,e=o(e)?e:this.bitmap.height-a;var l=this.cloneQuiet();return this.scanQuiet(i,a,r,e,(function(i,a,r){i=t*Math.floor(i/t),a=t*Math.floor(a/t);var e=n(l,u,i,a);this.bitmap.data[r]=e[0],this.bitmap.data[r+1]=e[1],this.bitmap.data[r+2]=e[2]})),(0,s.isNodePattern)(h)&&h.call(this,null,this),this},convolute:function(t,i,a,r,e,h){if(!Array.isArray(t))return s.throwError.call(this,"the kernel must be an array",h);if("function"==typeof i)h=i,i=null,a=null,r=null,e=null;else{if(o(i)&&"number"!=typeof i)return s.throwError.call(this,"x must be a number",h);if(o(a)&&"number"!=typeof a)return s.throwError.call(this,"y must be a number",h);if(o(r)&&"number"!=typeof r)return s.throwError.call(this,"w must be a number",h);if(o(e)&&"number"!=typeof e)return s.throwError.call(this,"h must be a number",h)}var u=(t.length-1)/2;i=o(i)?i:u,a=o(a)?a:u,r=o(r)?r:this.bitmap.width-i,e=o(e)?e:this.bitmap.height-a;var l=this.cloneQuiet();return this.scanQuiet(i,a,r,e,(function(i,a,r){var e=n(l,t,i,a);this.bitmap.data[r]=this.constructor.limit255(e[0]),this.bitmap.data[r+1]=this.constructor.limit255(e[1]),this.bitmap.data[r+2]=this.constructor.limit255(e[2])})),(0,s.isNodePattern)(h)&&h.call(this,null,this),this},color:d,colour:d}}},57890:(t,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=a(1567);i.default=function(){return{contain:function(t,i,a,e,h){if("number"!=typeof t||"number"!=typeof i)return r.throwError.call(this,"w and h must be numbers",h);"string"==typeof a&&("function"==typeof e&&void 0===h&&(h=e),e=a,a=null),"function"==typeof a&&(void 0===h&&(h=a),e=null,a=null),"function"==typeof e&&void 0===h&&(h=e,e=null);var s=7&(a=a||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),n=a>>3;if((0===s||s&s-1)&&(0===n||n&n-1))return r.throwError.call(this,"only use one flag per alignment direction",h);var o=s>>1,u=n>>1,l=t/i>this.bitmap.width/this.bitmap.height?i/this.bitmap.height:t/this.bitmap.width,d=this.cloneQuiet().scale(l,e);return this.resize(t,i,e),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,i,a){this.bitmap.data.writeUInt32BE(this._background,a)})),this.blit(d,(this.bitmap.width-d.bitmap.width)/2*o,(this.bitmap.height-d.bitmap.height)/2*u),(0,r.isNodePattern)(h)&&h.call(this,null,this),this}}}},34587:(t,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=a(1567);i.default=function(){return{cover:function(t,i,a,e,h){if("number"!=typeof t||"number"!=typeof i)return r.throwError.call(this,"w and h must be numbers",h);a&&"function"==typeof a&&void 0===h?(h=a,a=null,e=null):"function"==typeof e&&void 0===h&&(h=e,e=null);var s=7&(a=a||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),n=a>>3;if((0===s||s&s-1)&&(0===n||n&n-1))return r.throwError.call(this,"only use one flag per alignment direction",h);var o=s>>1,u=n>>1,l=t/i>this.bitmap.width/this.bitmap.height?t/this.bitmap.width:i/this.bitmap.height;return this.scale(l,e),this.crop((this.bitmap.width-t)/2*o,(this.bitmap.height-i)/2*u,t,i),(0,r.isNodePattern)(h)&&h.call(this,null,this),this}}}},16544:(t,i,a)=>{var r=a(64836);Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){return t("crop",(function(t,i,a,r,e){if("number"!=typeof t||"number"!=typeof i)return h.throwError.call(this,"x and y must be numbers",e);if("number"!=typeof a||"number"!=typeof r)return h.throwError.call(this,"w and h must be numbers",e);if(t=Math.round(t),i=Math.round(i),a=Math.round(a),r=Math.round(r),0===t&&a===this.bitmap.width){var s=a*i+t<<2,n=s+r*a<<2;this.bitmap.data=this.bitmap.data.slice(s,n)}else{var o=Buffer.allocUnsafe(a*r*4),u=0;this.scanQuiet(t,i,a,r,(function(t,i,a){var r=this.bitmap.data.readUInt32BE(a,!0);o.writeUInt32BE(r,u,!0),u+=4})),this.bitmap.data=o}return this.bitmap.width=a,this.bitmap.height=r,(0,h.isNodePattern)(e)&&e.call(this,null,this),this})),{class:{autocrop:function(){for(var t,i=this.bitmap.width,a=this.bitmap.height,r=1,s=0,n=2e-4,o=!0,u=!1,l={north:!1,south:!1,east:!1,west:!1},d=arguments.length,b=new Array(d),m=0;m<d;m++)b[m]=arguments[m];for(var p=0,f=b.length;p<f;p++)if("number"==typeof b[p]&&(n=b[p]),"boolean"==typeof b[p]&&(o=b[p]),"function"==typeof b[p]&&(t=b[p]),"object"===(0,e.default)(b[p])){var c=b[p];void 0!==c.tolerance&&(n=c.tolerance),void 0!==c.cropOnlyFrames&&(o=c.cropOnlyFrames),void 0!==c.cropSymmetric&&(u=c.cropSymmetric),void 0!==c.leaveBorder&&(s=c.leaveBorder),void 0!==c.ignoreSides&&(l=c.ignoreSides)}var v=this.getPixelColor(0,0),g=this.constructor.intToRGBA(v),w=0,y=0,M=0,P=0;if(v=this.getPixelColor(0,0),!l.north)t:for(var E=0;E<a-r;E++){for(var _=0;_<i;_++){var x=this.getPixelColor(_,E),N=this.constructor.intToRGBA(x);if(this.constructor.colorDiff(g,N)>n)break t}w++}if(v=this.getPixelColor(i,0),!l.east)t:for(var I=0;I<i-r;I++){for(var Q=0+w;Q<a;Q++){var j=this.getPixelColor(I,Q),O=this.constructor.intToRGBA(j);if(this.constructor.colorDiff(g,O)>n)break t}y++}if(v=this.getPixelColor(0,a),!l.south)t:for(var B=a-1;B>=w+r;B--){for(var A=i-y-1;A>=0;A--){var C=this.getPixelColor(A,B),T=this.constructor.intToRGBA(C);if(this.constructor.colorDiff(g,T)>n)break t}M++}if(v=this.getPixelColor(i,a),!l.west)t:for(var G=i-1;G>=0+y+r;G--){for(var R=a-1;R>=0+w;R--){var k=this.getPixelColor(G,R),D=this.constructor.intToRGBA(k);if(this.constructor.colorDiff(g,D)>n)break t}P++}if(P-=s,y-=s,w-=s,M-=s,u){var L=Math.min(y,P),q=Math.min(w,M);P=L,y=L,w=q,M=q}var U=i-((P=P>=0?P:0)+(y=y>=0?y:0)),z=a-((M=M>=0?M:0)+(w=w>=0?w:0));return(o?0!==y&&0!==w&&0!==P&&0!==M:0!==y||0!==w||0!==P||0!==M)&&this.crop(y,w,U,z),(0,h.isNodePattern)(t)&&t.call(this,null,this),this}}}};var e=r(a(18698)),h=a(1567)},17679:(t,i,a)=>{var r=a(64836);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=r(a(18698)),h=a(1567);i.default=function(){return{displace:function(t,i,a){if("object"!==(0,e.default)(t)||t.constructor!==this.constructor)return h.throwError.call(this,"The source must be a Jimp image",a);if("number"!=typeof i)return h.throwError.call(this,"factor must be a number",a);var r=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(a,e,h){var s=t.bitmap.data[h]/256*i;s=Math.round(s);var n=this.getPixelIndex(a+s,e);this.bitmap.data[n]=r.bitmap.data[h],this.bitmap.data[n+1]=r.bitmap.data[h+1],this.bitmap.data[n+2]=r.bitmap.data[h+2]})),(0,h.isNodePattern)(a)&&a.call(this,null,this),this}}}},65380:(t,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=a(1567);function e(t){var i=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,a,r){var e=i[((3&a)<<2)+t%4];this.bitmap.data[r]=Math.min(this.bitmap.data[r]+e,255),this.bitmap.data[r+1]=Math.min(this.bitmap.data[r+1]+e,255),this.bitmap.data[r+2]=Math.min(this.bitmap.data[r+2]+e,255)})),(0,r.isNodePattern)(t)&&t.call(this,null,this),this}i.default=function(){return{dither565:e,dither16:e}}},39462:(t,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=a(1567);i.default=function(){return{fisheye:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{r:2.5},a=arguments.length>1?arguments[1]:void 0;"function"==typeof i&&(a=i,i={r:2.5});var e=this.cloneQuiet(),h=e.bitmap,s=h.width,n=h.height;return e.scanQuiet(0,0,s,n,(function(a,r){var h=a/s,o=r/n,u=Math.sqrt(Math.pow(h-.5,2)+Math.pow(o-.5,2)),l=2*Math.pow(u,i.r),d=(h-.5)/u,b=(o-.5)/u,m=Math.round((l*d+.5)*s),p=Math.round((l*b+.5)*n),f=e.getPixelColor(m,p);t.setPixelColor(f,a,r)})),this.setPixelColor(e.getPixelColor(s/2,n/2),s/2,n/2),(0,r.isNodePattern)(a)&&a.call(this,null,this),this}}}},55980:(t,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=a(1567);function e(t,i,a){if("boolean"!=typeof t||"boolean"!=typeof i)return r.throwError.call(this,"horizontal and vertical must be Booleans",a);var e=Buffer.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(a,r,h){var s=t?this.bitmap.width-1-a:a,n=i?this.bitmap.height-1-r:r,o=this.bitmap.width*n+s<<2,u=this.bitmap.data.readUInt32BE(h);e.writeUInt32BE(u,o)})),this.bitmap.data=Buffer.from(e),(0,r.isNodePattern)(a)&&a.call(this,null,this),this}i.default=function(){return{flip:e,mirror:e}}},95092:(t,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=a(1567);i.default=function(){return{gaussian:function(t,i){if("number"!=typeof t)return r.throwError.call(this,"r must be a number",i);if(t<1)return r.throwError.call(this,"r must be greater than 0",i);for(var a=Math.ceil(2.57*t),e=2*a+1,h=t*t*2,s=h*Math.PI,n=[],o=0;o<e;o++){n[o]=[];for(var u=0;u<e;u++){var l=Math.pow(u-a,2)+Math.pow(o-a,2);n[o][u]=Math.exp(-l/h)/s}}for(var d=0;d<this.bitmap.height;d++)for(var b=0;b<this.bitmap.width;b++)for(var m=0,p=0,f=0,c=0,v=0,g=0;g<e;g++){for(var w=0;w<e;w++){var y=Math.min(this.bitmap.width-1,Math.max(0,w+b-a)),M=Math.min(this.bitmap.height-1,Math.max(0,g+d-a)),P=n[g][w],E=M*this.bitmap.width+y<<2;m+=this.bitmap.data[E]*P,p+=this.bitmap.data[E+1]*P,f+=this.bitmap.data[E+2]*P,c+=this.bitmap.data[E+3]*P,v+=P}var _=d*this.bitmap.width+b<<2;this.bitmap.data[_]=Math.round(m/v),this.bitmap.data[_+1]=Math.round(p/v),this.bitmap.data[_+2]=Math.round(f/v),this.bitmap.data[_+3]=Math.round(c/v)}return(0,r.isNodePattern)(i)&&i.call(this,null,this),this}}}},29085:(t,i,a)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=a(1567);i.default=function(){return{invert:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,i,a){this.bitmap.data[a]=255-this.bitmap.data[a],this.bitmap.data[a+1]=255-this.bitmap.data[a+1],this.bitmap.data[a+2]=255-this.bitmap.data[a+2]})),(0,r.isNodePattern)(t)&&t.call(this,null,this),this}}}}}]);