"use strict";(global.webpackChunkWeMod=global.webpackChunkWeMod||[]).push([[5639],{26597:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e(1567);i.default=function(){return{mask:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;if(!(t instanceof this.constructor))return a.throwError.call(this,"The source must be a Jimp image",n);if("number"!=typeof i||"number"!=typeof e)return a.throwError.call(this,"x and y must be numbers",n);i=Math.round(i),e=Math.round(e);var r=this.bitmap.width,s=this.bitmap.height,h=this;return t.scanQuiet(0,0,t.bitmap.width,t.bitmap.height,(function(t,a,n){var o=i+t,l=e+a;if(o>=0&&l>=0&&o<r&&l<s){var u=h.getPixelIndex(o,l),f=this.bitmap.data,d=(f[n+0]+f[n+1]+f[n+2])/3;h.bitmap.data[u+3]*=d/255}})),(0,a.isNodePattern)(n)&&n.call(this,null,this),this}}}},47139:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e(1567);function n(){var t={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(i,e,a){t.r[this.bitmap.data[a+0]]++,t.g[this.bitmap.data[a+1]]++,t.b[this.bitmap.data[a+2]]++})),t}var r=function(t,i,e){return 255*(t-i)/(e-i)},s=function(t){return[t.findIndex((function(t){return t>0})),255-t.slice().reverse().findIndex((function(t){return t>0}))]};i.default=function(){return{normalize:function(t){var i=n.call(this),e={r:s(i.r),g:s(i.g),b:s(i.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,i,a){var n=this.bitmap.data[a+0],s=this.bitmap.data[a+1],h=this.bitmap.data[a+2];this.bitmap.data[a+0]=r(n,e.r[0],e.r[1]),this.bitmap.data[a+1]=r(s,e.g[0],e.g[1]),this.bitmap.data[a+2]=r(h,e.b[0],e.b[1])})),(0,a.isNodePattern)(t)&&t.call(this,null,this),this}}}},68869:(t,i,e)=>{var a=e(64836);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(e(18698)),r=a(e(861)),s=a(e(71017)),h=a(e(19902)),o=e(1567),l=e(6523);function u(t,i,e,a,n){if(n.width>0&&n.height>0){var r=i.pages[n.page];t.blit(r,e+n.xoffset,a+n.yoffset,n.x,n.y,n.width,n.height)}return t}function f(t,i,e,a,n){for(var r=0;r<a.length;r++){var s;s=t.chars[a[r]]?a[r]:/\s/.test(a[r])?"":"?";var h=t.chars[s]||{},o=t.kernings[s];u(this,t,i,e,h||{}),i+=(o&&o[a[r+1]]?o[a[r+1]]:0)+(h.xadvance||n)}}var d=process.env.DIRNAME||"".concat(__dirname,"/../");i.default=function(){return{constants:{measureText:l.measureText,measureTextHeight:l.measureTextHeight,FONT_SANS_8_BLACK:s.default.join(d,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:s.default.join(d,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:s.default.join(d,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:s.default.join(d,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:s.default.join(d,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:s.default.join(d,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:s.default.join(d,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:s.default.join(d,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:s.default.join(d,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:s.default.join(d,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:s.default.join(d,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:s.default.join(d,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:s.default.join(d,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(t,i){var e=this;return"string"!=typeof t?o.throwError.call(this,"file must be a string",i):new Promise((function(a,n){i=i||function(t,i){t?n(t):a(i)},(0,h.default)(t,(function(a,n){var r={},h={};if(a)return o.throwError.call(e,a,i);for(var l=0;l<n.chars.length;l++)r[String.fromCharCode(n.chars[l].id)]=n.chars[l];for(var u=0;u<n.kernings.length;u++){var f=String.fromCharCode(n.kernings[u].first);h[f]=h[f]||{},h[f][String.fromCharCode(n.kernings[u].second)]=n.kernings[u].amount}(function(t,i,e){var a=e.map((function(e){return t.read(i+"/"+e)}));return Promise.all(a)})(e,s.default.dirname(t),n.pages).then((function(t){i(null,{chars:r,kernings:h,pages:t,common:n.common,info:n.info})}))}))}))}},class:{print:function(t,i,e,a,s,h,u){var d,p,c=this;if("function"==typeof s&&void 0===u&&(u=s,s=1/0),void 0===s&&(s=1/0),"function"==typeof h&&void 0===u&&(u=h,h=1/0),void 0===h&&(h=1/0),"object"!==(0,n.default)(t))return o.throwError.call(this,"font must be a Jimp loadFont",u);if("number"!=typeof i||"number"!=typeof e||"number"!=typeof s)return o.throwError.call(this,"x, y and maxWidth must be numbers",u);if("number"!=typeof s)return o.throwError.call(this,"maxWidth must be a number",u);if("number"!=typeof h)return o.throwError.call(this,"maxHeight must be a number",u);"object"===(0,n.default)(a)&&null!==a.text&&void 0!==a.text?(d=a.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,p=a.alignmentY||this.constructor.VERTICAL_ALIGN_TOP,a=a.text):(d=this.constructor.HORIZONTAL_ALIGN_LEFT,p=this.constructor.VERTICAL_ALIGN_TOP,a=a.toString()),h!==1/0&&p===this.constructor.VERTICAL_ALIGN_BOTTOM?e+=h-(0,l.measureTextHeight)(t,a,s):h!==1/0&&p===this.constructor.VERTICAL_ALIGN_MIDDLE&&(e+=h/2-(0,l.measureTextHeight)(t,a,s)/2);var g=Object.entries(t.chars)[0][1].xadvance,b=function(t,i,e){var a=i.split(" "),n=[],s=[],h=0;return a.forEach((function(i){var a=[].concat((0,r.default)(s),[i]).join(" "),o=(0,l.measureText)(t,a);o<=e?(o>h&&(h=o),s.push(i)):(n.push(s),s=[i])})),n.push(s),{lines:n,longestLine:h}}(t,a,s),m=b.lines,v=b.longestLine;return m.forEach((function(a){var n=a.join(" "),r=function(t,i,e,a,n){return n===t.HORIZONTAL_ALIGN_LEFT?0:n===t.HORIZONTAL_ALIGN_CENTER?(a-(0,l.measureText)(i,e))/2:a-(0,l.measureText)(i,e)}(c.constructor,t,n,s,d);f.call(c,t,i+r,e,n,g),e+=t.common.lineHeight})),(0,o.isNodePattern)(u)&&u.call(this,null,this,{x:i+v,y:e}),this}}}}},6523:(t,i)=>{function e(t,i){for(var e=0,a=0;a<i.length;a++)if(t.chars[i[a]]){var n=t.kernings[i[a]]&&t.kernings[i[a]][i[a+1]]?t.kernings[i[a]][i[a+1]]:0;e+=(t.chars[i[a]].xadvance||0)+n}return e}Object.defineProperty(i,"__esModule",{value:!0}),i.measureText=e,i.measureTextHeight=function(t,i,a){for(var n=i.split(" "),r="",s=t.common.lineHeight,h=0;h<n.length;h++){var o=r+n[h]+" ";e(t,o)>a&&h>0?(s+=t.common.lineHeight,r=n[h]+" "):r=o}return s}},70090:(t,i,e)=>{var a=e(64836);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e(1567),r=a(e(59025)),s=a(e(28226));i.default=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(t,i,e,a){if("number"!=typeof t||"number"!=typeof i)return n.throwError.call(this,"w and h must be numbers",a);if("function"==typeof e&&void 0===a&&(a=e,e=null),t===this.constructor.AUTO&&i===this.constructor.AUTO)return n.throwError.call(this,"w and h cannot both be set to auto",a);if(t===this.constructor.AUTO&&(t=this.bitmap.width*(i/this.bitmap.height)),i===this.constructor.AUTO&&(i=this.bitmap.height*(t/this.bitmap.width)),t<0||i<0)return n.throwError.call(this,"w and h must be positive numbers",a);if(t=Math.round(t),i=Math.round(i),"function"==typeof s.default[e]){var h={data:Buffer.alloc(t*i*4),width:t,height:i};s.default[e](this.bitmap,h),this.bitmap=h}else{var o=this;new r.default(this.bitmap.width,this.bitmap.height,t,i,!0,!0,(function(e){o.bitmap.data=Buffer.from(e),o.bitmap.width=t,o.bitmap.height=i})).resize(this.bitmap.data)}return(0,n.isNodePattern)(a)&&a.call(this,null,this),this}}}}},59025:t=>{function i(t,i,e,a,n,r,s){this.widthOriginal=Math.abs(Math.floor(t)||0),this.heightOriginal=Math.abs(Math.floor(i)||0),this.targetWidth=Math.abs(Math.floor(e)||0),this.targetHeight=Math.abs(Math.floor(a)||0),this.colorChannels=n?4:3,this.interpolationPass=Boolean(r),this.resizeCallback="function"==typeof s?s:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}i.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw new Error("Invalid settings specified for the resizer.");this.configurePasses()},i.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4===this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4===this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4===this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},i.prototype._resizeWidthInterpolatedRGBChannels=function(t,i){var e,a,n=i?4:3,r=this.ratioWeightWidthPass,s=this.widthBuffer,h=0,o=0,l=0,u=0,f=0;for(e=0;h<1/3;e+=n,h+=r)for(o=e,l=0;o<this.widthPassResultSize;l+=this.originalWidthMultipliedByChannels,o+=this.targetWidthMultipliedByChannels)s[o]=t[l],s[o+1]=t[l+1],s[o+2]=t[l+2],i&&(s[o+3]=t[l+3]);for(h-=1/3,a=this.widthOriginal-1;h<a;e+=n,h+=r)for(u=1-(f=h%1),o=e,l=Math.floor(h)*n;o<this.widthPassResultSize;l+=this.originalWidthMultipliedByChannels,o+=this.targetWidthMultipliedByChannels)s[o+0]=t[l+0]*u+t[l+n+0]*f,s[o+1]=t[l+1]*u+t[l+n+1]*f,s[o+2]=t[l+2]*u+t[l+n+2]*f,i&&(s[o+3]=t[l+3]*u+t[l+n+3]*f);for(a=this.originalWidthMultipliedByChannels-n;e<this.targetWidthMultipliedByChannels;e+=n)for(o=e,l=a;o<this.widthPassResultSize;l+=this.originalWidthMultipliedByChannels,o+=this.targetWidthMultipliedByChannels)s[o]=t[l],s[o+1]=t[l+1],s[o+2]=t[l+2],i&&(s[o+3]=t[l+3]);return s},i.prototype._resizeWidthRGBChannels=function(t,i){var e=i?4:3,a=this.ratioWeightWidthPass,n=1/a,r=this.originalWidthMultipliedByChannels-e+1,s=this.targetWidthMultipliedByChannels-e+1,h=this.outputWidthWorkBench,o=this.widthBuffer,l=this.outputWidthWorkBenchOpaquePixelsCount,u=0,f=0,d=0,p=0,c=0,g=0,b=0,m=1,v=0,y=0,M=0,B=0;do{for(c=0;c<this.originalHeightMultipliedByChannels;)h[c++]=0,h[c++]=0,h[c++]=0,i&&(h[c++]=0,l[c/e-1]=0);u=a;do{for(f=1+d-p,m=Math.min(u,f),c=0,g=d;c<this.originalHeightMultipliedByChannels;g+=r)v=t[g],y=t[++g],M=t[++g],B=i?t[++g]:255,h[c++]+=(B?v:0)*m,h[c++]+=(B?y:0)*m,h[c++]+=(B?M:0)*m,i&&(h[c++]+=B*m,l[c/e-1]+=B?m:0);if(!(u>=f)){p+=u;break}p=d+=e,u-=f}while(u>0&&d<this.originalWidthMultipliedByChannels);for(c=0,g=b;c<this.originalHeightMultipliedByChannels;g+=s)u=i?l[c/e]:1,m=i?u?1/u:0:n,o[g]=h[c++]*m,o[++g]=h[c++]*m,o[++g]=h[c++]*m,i&&(o[++g]=h[c++]*n);b+=e}while(b<this.targetWidthMultipliedByChannels);return o},i.prototype._resizeHeightRGBChannels=function(t,i){var e=this.ratioWeightHeightPass,a=1/e,n=this.outputHeightWorkBench,r=this.heightBuffer,s=this.outputHeightWorkBenchOpaquePixelsCount,h=0,o=0,l=0,u=0,f=0,d=0,p=0,c=1,g=0,b=0,m=0,v=0;do{for(f=0;f<this.targetWidthMultipliedByChannels;)n[f++]=0,n[f++]=0,n[f++]=0,i&&(n[f++]=0,s[f/4-1]=0);h=e;do{for(o=1+l-u,c=Math.min(h,o),p=l,f=0;f<this.targetWidthMultipliedByChannels;)g=t[p++],b=t[p++],m=t[p++],v=i?t[p++]:255,n[f++]+=(v?g:0)*c,n[f++]+=(v?b:0)*c,n[f++]+=(v?m:0)*c,i&&(n[f++]+=v*c,s[f/4-1]+=v?c:0);if(!(h>=o)){u+=h;break}u=l=p,h-=o}while(h>0&&l<this.widthPassResultSize);for(f=0;f<this.targetWidthMultipliedByChannels;)h=i?s[f/4]:1,c=i?h?1/h:0:a,r[d++]=Math.round(n[f++]*c),r[d++]=Math.round(n[f++]*c),r[d++]=Math.round(n[f++]*c),i&&(r[d++]=Math.round(n[f++]*a))}while(d<this.finalResultSize);return r},i.prototype.resizeWidthInterpolatedRGB=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!1)},i.prototype.resizeWidthInterpolatedRGBA=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!0)},i.prototype.resizeWidthRGB=function(t){return this._resizeWidthRGBChannels(t,!1)},i.prototype.resizeWidthRGBA=function(t){return this._resizeWidthRGBChannels(t,!0)},i.prototype.resizeHeightInterpolated=function(t){for(var i,e=this.ratioWeightHeightPass,a=this.heightBuffer,n=0,r=0,s=0,h=0,o=0,l=0,u=0;n<1/3;n+=e)for(s=0;s<this.targetWidthMultipliedByChannels;)a[r++]=Math.round(t[s++]);for(n-=1/3,i=this.heightOriginal-1;n<i;n+=e)for(l=1-(u=n%1),o=(h=Math.floor(n)*this.targetWidthMultipliedByChannels)+this.targetWidthMultipliedByChannels,s=0;s<this.targetWidthMultipliedByChannels;++s)a[r++]=Math.round(t[h++]*l+t[o++]*u);for(;r<this.finalResultSize;)for(s=0,h=i*this.targetWidthMultipliedByChannels;s<this.targetWidthMultipliedByChannels;++s)a[r++]=Math.round(t[h++]);return a},i.prototype.resizeHeightRGB=function(t){return this._resizeHeightRGBChannels(t,!1)},i.prototype.resizeHeightRGBA=function(t){return this._resizeHeightRGBChannels(t,!0)},i.prototype.resize=function(t){this.resizeCallback(this.resizeHeight(this.resizeWidth(t)))},i.prototype.bypassResizer=function(t){return t},i.prototype.initializeFirstPassBuffers=function(t){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),t||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},i.prototype.initializeSecondPassBuffers=function(t){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),t||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},i.prototype.generateFloatBuffer=function(t){try{return new Float32Array(t)}catch(t){return[]}},i.prototype.generateFloat64Buffer=function(t){try{return new Float64Array(t)}catch(t){return[]}},i.prototype.generateUint8Buffer=function(t){try{return new Uint8Array(t)}catch(t){return[]}},t.exports=i},28226:t=>{t.exports={nearestNeighbor:function(t,i){for(var e=t.width,a=t.height,n=i.width,r=i.height,s=t.data,h=i.data,o=0;o<r;o++)for(var l=0;l<n;l++){var u=4*(o*n+l),f=4*(Math.floor(o*a/r)*e+Math.floor(l*e/n));h[u++]=s[f++],h[u++]=s[f++],h[u++]=s[f++],h[u++]=s[f++]}},bilinearInterpolation:function(t,i){for(var e=t.width,a=t.height,n=i.width,r=i.height,s=t.data,h=i.data,o=function(t,i,e,a,n){return i===a?e:Math.round((t-i)*n+(a-t)*e)},l=function(t,i,a,n,r,l,u,f){var d=4*(u*e+n)+i,p=4*(u*e+r)+i,c=o(a,n,s[d],r,s[p]);if(f===u)h[t+i]=c;else{p=4*(f*e+r)+i;var g=o(a,n,s[d=4*(f*e+n)+i],r,s[p]);h[t+i]=o(l,u,c,f,g)}},u=0;u<r;u++)for(var f=0;f<n;f++){var d=4*(u*n+f),p=f*e/n,c=Math.floor(p),g=Math.min(Math.ceil(p),e-1),b=u*a/r,m=Math.floor(b),v=Math.min(Math.ceil(b),a-1);l(d,0,p,c,g,b,m,v),l(d,1,p,c,g,b,m,v),l(d,2,p,c,g,b,m,v),l(d,3,p,c,g,b,m,v)}},_interpolate2D:function(t,i,e,a){for(var n=t.data,r=i.data,s=t.width,h=t.height,o=i.width,l=i.height,u=Math.max(1,Math.floor(s/o)),f=o*u,d=Math.max(1,Math.floor(h/l)),p=l*d,c=Buffer.alloc(f*h*4),g=0;g<h;g++)for(var b=0;b<f;b++)for(var m=b*(s-1)/f,v=Math.floor(m),y=m-v,M=4*(g*s+v),B=4*(g*f+b),w=0;w<4;w++){var _=M+w,W=v>0?n[_-4]:2*n[_]-n[_+4],C=n[_],z=n[_+4],I=v<s-2?n[_+8]:2*n[_+4]-n[_];c[B+w]=a(W,C,z,I,y)}for(var E=Buffer.alloc(f*p*4),O=0;O<p;O++)for(var A=0;A<f;A++)for(var N=O*(h-1)/p,P=Math.floor(N),R=N-P,T=4*(P*f+A),H=4*(O*f+A),x=0;x<4;x++){var S=T+x,k=P>0?c[S-4*f]:2*c[S]-c[S+4*f],G=c[S],F=c[S+4*f],L=P<h-2?c[S+8*f]:2*c[S+4*f]-c[S];E[H+x]=a(k,G,F,L,R)}var j=u*d;if(j>1)for(var U=0;U<l;U++)for(var Z=0;Z<o;Z++){for(var D=0,K=0,Q=0,q=0,V=0,J=0;J<d;J++)for(var X=U*d+J,Y=0;Y<u;Y++){var $=4*(X*f+(Z*u+Y)),tt=E[$+3];tt&&(D+=E[$],K+=E[$+1],Q+=E[$+2],V++),q+=tt}var it=4*(U*o+Z);r[it]=V?Math.round(D/V):0,r[it+1]=V?Math.round(K/V):0,r[it+2]=V?Math.round(Q/V):0,r[it+3]=Math.round(q/j)}else i.data=E},bicubicInterpolation:function(t,i,e){return this._interpolate2D(t,i,e,(function(t,i,e,a,n){var r=a-e-t+i,s=t-i-r,h=e-t,o=i;return Math.max(0,Math.min(255,r*(n*n*n)+s*(n*n)+h*n+o))}))},hermiteInterpolation:function(t,i,e){return this._interpolate2D(t,i,e,(function(t,i,e,a,n){var r=i,s=.5*(e-t),h=t-2.5*i+2*e-.5*a,o=.5*(a-t)+1.5*(i-e);return Math.max(0,Math.min(255,Math.round(((o*n+h)*n+s)*n+r)))}))},bezierInterpolation:function(t,i,e){return this._interpolate2D(t,i,e,(function(t,i,e,a,n){var r=1-n,s=i*r*r*r,h=3*(i+(e-t)/4)*r*r*n,o=3*(e-(a-i)/4)*r*n*n,l=e*n*n*n;return Math.max(0,Math.min(255,Math.round(s+h+o+l)))}))}}},69814:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e(1567);function n(t,i){var e=(t%=360)*Math.PI/180,a=Math.cos(e),n=Math.sin(e),r=this.bitmap.width,s=this.bitmap.height;if(!0===i||"string"==typeof i){(r=Math.ceil(Math.abs(this.bitmap.width*a)+Math.abs(this.bitmap.height*n))+1)%2!=0&&r++,(s=Math.ceil(Math.abs(this.bitmap.width*n)+Math.abs(this.bitmap.height*a))+1)%2!=0&&s++;var h=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,i,e){this.bitmap.data.writeUInt32BE(this._background,e)}));var o=Math.max(r,s,this.bitmap.width,this.bitmap.height);this.resize(o,o,i),this.blit(h,this.bitmap.width/2-h.bitmap.width/2,this.bitmap.height/2-h.bitmap.height/2)}var l=this.bitmap.width,u=this.bitmap.height,f=Buffer.alloc(this.bitmap.data.length);function d(t,i){return function(e,a){return{x:e+t,y:a+i}}}for(var p=d(-l/2,-u/2),c=d(l/2+.5,u/2+.5),g=1;g<=u;g++)for(var b=1;b<=l;b++){var m=p(b,g),v=c(a*m.x-n*m.y,a*m.y+n*m.x),y=l*(g-1)+b-1<<2;if(v.x>=0&&v.x<l&&v.y>=0&&v.y<u){var M=(l*(0|v.y)+v.x|0)<<2,B=this.bitmap.data.readUInt32BE(M);f.writeUInt32BE(B,y)}else f.writeUInt32BE(this._background,y)}if(this.bitmap.data=f,!0===i||"string"==typeof i){var w=l/2-r/2,_=u/2-s/2;this.crop(w,_,r,s)}}i.default=function(){return{rotate:function(t,i,e){return null==i&&(i=!0),"function"==typeof i&&void 0===e&&(e=i,i=!0),"number"!=typeof t?a.throwError.call(this,"deg must be a number",e):"boolean"!=typeof i&&"string"!=typeof i?a.throwError.call(this,"mode must be a boolean or a string",e):(n.call(this,t,i,e),(0,a.isNodePattern)(e)&&e.call(this,null,this),this)}}}},94246:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e(1567);i.default=function(){return{scale:function(t,i,e){if("number"!=typeof t)return a.throwError.call(this,"f must be a number",e);if(t<0)return a.throwError.call(this,"f must be a positive number",e);"function"==typeof i&&void 0===e&&(e=i,i=null);var n=this.bitmap.width*t,r=this.bitmap.height*t;return this.resize(n,r,i),(0,a.isNodePattern)(e)&&e.call(this,null,this),this},scaleToFit:function(t,i,e,n){if("number"!=typeof t||"number"!=typeof i)return a.throwError.call(this,"w and h must be numbers",n);"function"==typeof e&&void 0===n&&(n=e,e=null);var r=t/i>this.bitmap.width/this.bitmap.height?i/this.bitmap.height:t/this.bitmap.width;return this.scale(r,e),(0,a.isNodePattern)(n)&&n.call(this,null,this),this}}}},82510:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e(1567);i.default=function(){return{shadow:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;"function"==typeof i&&(e=i,i={});var n=i,r=n.opacity,s=void 0===r?.7:r,h=n.size,o=void 0===h?1.1:h,l=n.x,u=void 0===l?-25:l,f=n.y,d=void 0===f?25:f,p=n.blur,c=void 0===p?5:p,g=this.clone(),b=this.clone();return b.scan(0,0,b.bitmap.width,b.bitmap.height,(function(i,e,a){b.bitmap.data[a]=0,b.bitmap.data[a+1]=0,b.bitmap.data[a+2]=0,b.bitmap.data[a+3]=b.constructor.limit255(b.bitmap.data[a+3]*s),t.bitmap.data[a]=0,t.bitmap.data[a+1]=0,t.bitmap.data[a+2]=0,t.bitmap.data[a+3]=0})),b.resize(b.bitmap.width*o,b.bitmap.height*o).blur(c),this.composite(b,u,d),this.composite(g,0,0),(0,a.isNodePattern)(e)&&e.call(this,null,this),this}}}},74538:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e(1567);i.default=function(){return{threshold:function(t,i){var e=this,n=t.max,r=t.replace,s=void 0===r?255:r,h=t.autoGreyscale,o=void 0===h||h;return"number"!=typeof n?a.throwError.call(this,"max must be a number",i):"number"!=typeof s?a.throwError.call(this,"replace must be a number",i):"boolean"!=typeof o?a.throwError.call(this,"autoGreyscale must be a boolean",i):(n=this.constructor.limit255(n),s=this.constructor.limit255(s),o&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,i,a){var r=e.bitmap.data[a]<n?e.bitmap.data[a]:s;e.bitmap.data[a]=r,e.bitmap.data[a+1]=r,e.bitmap.data[a+2]=r})),(0,a.isNodePattern)(i)&&i.call(this,null,this),this)}}}},66240:(t,i,e)=>{var a=e(64836);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(e(861)),r=e(7011),s=a(e(92260)),h=a(e(27139)),o=a(e(24650)),l=a(e(10809)),u=a(e(57890)),f=a(e(34587)),d=a(e(16544)),p=a(e(17679)),c=a(e(65380)),g=a(e(39462)),b=a(e(55980)),m=a(e(95092)),v=a(e(29085)),y=a(e(26597)),M=a(e(47139)),B=a(e(68869)),w=a(e(70090)),_=a(e(69814)),W=a(e(94246)),C=a(e(82510)),z=a(e(74538)),I=[s.default,h.default,o.default,l.default,u.default,f.default,d.default,p.default,c.default,g.default,b.default,m.default,v.default,y.default,M.default,B.default,w.default,_.default,W.default,C.default,z.default];i.default=function(t){var i=I.map((function(i){var e=i(t)||{};return e.class||e.constants||(e={class:e}),e}));return r.mergeDeep.apply(void 0,(0,n.default)(i))}}}]);